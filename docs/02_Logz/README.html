<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>PATHFINDER</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
<h1>PATHFINDER</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>Aplicativo Interceptor y Analizador de Eventos</p>
</div>
<div class="paragraph">
<p>Pathfinder es un aplicativo inicialmente pensado para recibir instancias de eventos que suceden, almacenarlos y procesarlos aplicando una lógica establecida por el usuario mediante una interfaz simple de codificación JavaScript.
Los eventos se reciben vía una interfaz de servicios Web REST, y se almacenan en una base de datos NoSql para luego ser procesados.
Pueden consultarse los eventos mediante la misma interfaz de servicios WEB y generarse opcionalmente archivos de ontologías en base a las búsquedas realizadas para aplicar posterior lógica de procesamiento.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index">OBJETIVO y ESTRUCTURA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este documento se divide en 2 secciones:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Configuración del entorno, compilación y ejecución de pathfinder</dt>
<dd>
<p>Explica como levantar el entorno en el que se encuentra contenido pathfinder, las herramientas necesarias para compilarlo y ejecutarlo correctamente</p>
</dd>
<dt class="hdlist1">Configuración de los módulos de Pathfinder</dt>
<dd>
<p>Explica como configurar correctamente Pathfinder en los distintos escenarios que se puedan plantear.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Si ya tenemos levantado el entorno se puede ver directamente la configuración de los módulos de la plataforma en la sección: <a href="#doc_mod">Documentación de los módulos de Pathfinder</a>.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#requisitos">Requisitos</a></p>
</li>
<li>
<p><a href="#estr_interna">Estructura interna de la plataforma</a></p>
</li>
<li>
<p><a href="#instalacion">Instalación del entorno</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#jdk">JDK 1.7</a></p>
</li>
<li>
<p><a href="#elasticsearch">Elasticsearch 1.7.3</a></p>
</li>
<li>
<p><a href="#jboss">Jboss EAP 6.2.1</a></p>
</li>
<li>
<p><a href="#maven">Maven 3.x</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#layout">Layout Físico General recomendado de la plataforma</a></p>
</li>
<li>
<p><a href="#doc_mod">Documentación de los módulos de Pathfinder</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requisitos">Requisitos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A continuación se indican los componentes necesarios para poder ejecutar la aplicación:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JDK 1.7.x</p>
</li>
<li>
<p>JBoss 7.1.1</p>
</li>
<li>
<p>Maven 3.0.4</p>
</li>
<li>
<p>Elasticsearch 1.7.3</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="estr_interna">Estructura interna de la plataforma</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A continuación se detalla la estructura interna de los archivos contenidos en el repositorio</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 83%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nombre</th>
<th class="tableblock halign-left valign-top">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo librería que contiene todas las interfaces, entidades, POJOs, DTOs y DVOs utilizados por Pathfinder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo librería que contiene todas las implementaciones de las interfaces declaradas en el módulo <strong>api</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo Standalone del Agente Pathfinder que lee un archivo de logs de eventos y los envía al servicio REST de pathfinder para su posterior procesado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processor-engine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo del motor de procesamiento JavasCript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">web</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo WEB de pathfinder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">analyzer-cep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Módulo de Análisis de eventos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directorio que contiene toda la documentación, librerías ad-hoc, y configuraciones adicionales de la Plataforma</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pom.xml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descriptor MAVEN padre que agrupa todos los submódulos del proyecto</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="instalacion">Instalación del entorno</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A continuación se detallan los pasos de instalación teniendo como base un sistema linux.</p>
</div>
<div class="sect2">
<h3 id="jdk">JDK 1.7</h3>
<div class="paragraph">
<p>El modulo web corre sobre Java Runtime Environment 7, y para compilar los binarios es necesario instalar Java Development Kit.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Ubuntu (.deb y Derivados)</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Asegurarse que no se tiene openjdk instalado, en caso de tenerlo, es necesario removerlo</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo apt-get update &amp;&amp; apt-get remove openjdk-6-jre</pre>
</div>
</div>
</li>
<li>
<p>Instalar el repositorio que contiene los paquetes necesarios para levantar Oracle Java 7</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo add-apt-repository ppa:webupd8team/java
$ sudo apt-get update</pre>
</div>
</div>
</li>
<li>
<p>Proceder con la instalacion de oracle-java7-installer</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo apt-get install oracle-java7-installer</pre>
</div>
</div>
</li>
<li>
<p>Confirmar que la instalación ha sido exitosa</p>
<div class="literalblock">
<div class="content">
<pre>$ java --version
Output:
java version "1.7.0_XX"
Java(TM) SE Runtime Environment (build 1.7.0_XX-ZXX)
Java HotSpot(TM) Server VM (build XX.XX-ZXX, mixed mode)</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Red-Hat (.rpm y Dervivados)</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>64 Bits</p>
<div class="literalblock">
<div class="content">
<pre>$ cd /opt/
$ wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" "http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz"
$ tar -xvzf jdk-7u79-linux-x64.tar.gz</pre>
</div>
</div>
</li>
<li>
<p>32 Bits</p>
<div class="literalblock">
<div class="content">
<pre>$ cd /opt/
$ wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" "http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-i586.tar.gz"
$ tar xzf jdk-7u79-linux-i586.tar.gz</pre>
</div>
</div>
</li>
<li>
<p>Instalar Java</p>
<div class="literalblock">
<div class="content">
<pre>$ cd /opt/jdk1.7.0_79/
$ alternatives --install /usr/bin/java java /opt/jdk1.7.0_79/bin/java 2
$ alternatives --config java</pre>
</div>
</div>
</li>
<li>
<p>Activar Java correspondiente</p>
<div class="literalblock">
<div class="content">
<pre>There are 3 programs which provide 'java'.
  Selection    Command
-----------------------------------------------
*  1           /opt/jdk1.7.0_60/bin/java
 + 2           /opt/jdk1.7.0_72/bin/java
   3           /opt/jdk1.7.0_79/bin/java
Enter to keep the current selection[+], or type selection number: 3 [Press Enter]</pre>
</div>
</div>
</li>
<li>
<p>Activar "alternatives"</p>
<div class="literalblock">
<div class="content">
<pre>$ alternatives --install /usr/bin/jar jar /opt/jdk1.7.0_79/bin/jar 2
$ alternatives --install /usr/bin/javac javac /opt/jdk1.7.0_79/bin/javac 2
$ alternatives --set jar /opt/jdk1.7.0_79/bin/jar
$ alternatives --set javac /opt/jdk1.7.0_79/bin/javac</pre>
</div>
</div>
</li>
<li>
<p>Confirmar que la instalación ha sido exitosa</p>
<div class="literalblock">
<div class="content">
<pre>$ java --version
Output:
java version "1.7.0_XX"
Java(TM) SE Runtime Environment (build 1.7.0_XX-ZXX)
Java HotSpot(TM) Server VM (build XX.XX-ZXX, mixed mode)</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="elasticsearch">Elasticsearch 1.7.3</h3>
<div class="paragraph">
<p>El motor de busquedas Elasticsearch almacena todos los datos procesados por pathfinder</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Se debe tener JDK 7
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Ubuntu (.deb y derivados)</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Descargar e instalar la "Public Signing Key":</p>
<div class="literalblock">
<div class="content">
<pre>$ wget -qO - https://packages.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -</pre>
</div>
</div>
</li>
<li>
<p>Agregar el repositorio a <code>/etc/apt/sources.list.d/elasticsearch-1.7.list</code></p>
<div class="literalblock">
<div class="content">
<pre>$ echo "deb http://packages.elastic.co/elasticsearch/1.7/debian stable main" | sudo tee -a /etc/apt/sources.list.d/elasticsearch-1.7.list</pre>
</div>
</div>
</li>
<li>
<p>Actualizar apt-get e instalar elasticsearch</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo apt-get update &amp;&amp; sudo apt-get install elasticsearch</pre>
</div>
</div>
</li>
<li>
<p>Configurar como servicio</p>
<div class="ulist">
<ul>
<li>
<p>Para sistemas con SysV init</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo update-rc.d elasticsearch defaults 95 10</pre>
</div>
</div>
</li>
<li>
<p>Para sistemas si SysV init</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo /bin/systemctl daemon-reload
$ sudo /bin/systemctl enable elasticsearch.service</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use el comando "echo" para agregar el repositorio de Elasticsearch. Elasticsearch no provee un repositorio de fuentes <strong>no</strong> utilice add-apt-repository ya que deberá ingresar una entrada para deb-src también.
Si lo hace verá el siguiente error</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> Unable to find expected entry 'main/source/Sources' in Release file (Wrong sources.list entry or malformed file)
 Just delete the deb-src entry from the /etc/apt/sources.list file and the installation should work as expected.</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Red-Hat (.rpm y derivados)</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Descargar e instalar la "Public Signing Key"</p>
<div class="literalblock">
<div class="content">
<pre>$ rpm --import https://packages.elastic.co/GPG-KEY-elasticsearch</pre>
</div>
</div>
</li>
<li>
<p>Agregar lo siguiente al archivo <code>elasticsearch.repo</code> en el directorio <code>/etc/yum.repos.d/</code></p>
<div class="literalblock">
<div class="content">
<pre>[elasticsearch-1.7]
name=Elasticsearch repository for 1.7.x packages
baseurl=http://packages.elastic.co/elasticsearch/1.7/centos
gpgcheck=1
gpgkey=http://packages.elastic.co/GPG-KEY-elasticsearch
enabled=1</pre>
</div>
</div>
</li>
<li>
<p>Instalar elasticsearch</p>
<div class="literalblock">
<div class="content">
<pre>$ yum install elasticsearch</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Verificar que la instalación ha sido exitosa</dt>
<dd>
<p>Acceder desde el navegador a <a href="http://localhost:9200" class="bare">http://localhost:9200</a> y deberia retornar algo similar a:</p>
<div class="literalblock">
<div class="content">
<pre>{
	"status" : 200,
	"name" : "Malice",
	"version" : {
		"number" : "1.0.1",
		"build_hash" : "5c03844e1978e5cc924dab2a423dc63ce881c42b",
		"build_timestamp" : "2014-02-25T15:52:53Z",
		"build_snapshot" : false,
		"lucene_version" : "4.6"
	},
	"tagline" : "You Know, for Search"
}</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Links de Referencia</dt>
<dd>
<p><a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-service.html" class="bare">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-service.html</a>
<a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup.html" class="bare">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup.html</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="jboss">Jboss EAP 6.2.1</h3>
<div class="paragraph">
<p>El Servidor de aplicaciones certificado jee7 de redhat es el contenedor del módulo web</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Descargar Jboss EAP 6.2 del siguiente link</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="http://www.jboss.org/download-manager/file/jboss-eap-6.2.0.GA.zip" class="bare">http://www.jboss.org/download-manager/file/jboss-eap-6.2.0.GA.zip</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Renombrar el archivo standalone.xml por standalone-bkp.xml y standalone-full-ha.xml por standalone.xml.
(Ambos archivos se encuentran localizados en &lt;JBOSS_DIRECTORY&gt;/standalone/configuration)</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Necesita tener una cuenta registrada en el portal de Red Hat con el producto habilitado para la descarga
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="maven">Maven 3.x</h3>
<div class="paragraph">
<p>Apache Maven es el encargado de administrar todas las dependencias externas del proyecto para poder compilar los binarios.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Es necesario tener JDK 7 instalado
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Descargar los binarios de Maven de la siguiente URL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="http://maven.apache.org/download.cgi" class="bare">http://maven.apache.org/download.cgi</a> (Se debe escoger un mirror y descargar los "Binaries")</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Descomprimir los binarios</p>
<div class="literalblock">
<div class="content">
<pre>$ sudo tar -xvzf apache-maven-3.X.X-bin.tar.gz
$ sudo mv apache-maven-3.X.X-bin /usr/local/apache-maven/
$ sudo ln -s /usr/local/apache-maven/apache-maven-3.X.X-bin /usr/local/apache-maven/apache-default</pre>
</div>
</div>
</li>
<li>
<p>Configurar las variables de entorno para encontrar los ejecutables correctos</p>
<div class="literalblock">
<div class="content">
<pre>$ export M2_HOME=/usr/local/apache-maven/maven-default
$ export M2=$M2_HOME/bin
$ export PATH=$M2:$PATH</pre>
</div>
</div>
</li>
<li>
<p>Verificar que se encuentran configurados correctamente los ejecutables</p>
<div class="literalblock">
<div class="content">
<pre>$ mvn --version</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Output:
Apache Maven 3.X.X ([HASH]; TIMESTAMP)
Maven home: /usr/local/apache-maven/apache-default
Java version: 1.7.0_XX, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: es_AR, platform encoding: UTF-8
OS name: "linux", version: "[VERSION]", arch: "[ARCH]", family: "unix"</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="layout">Layout Físico General recomendado de la plataforma</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_layout_físico_general" class="sect0">Layout Físico General</h1>
<div class="paragraph lead">
<p>A continuación se describe el layout físico recomendado de la solución para alcanzar los siguientes objetivos.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La solución debe soportar un tráfico de al menos 500 Eventos por segundo (E/S en lo sucesivo)</p>
</li>
<li>
<p>La latencia entre eventos no debe superar los 2 milisegundos</p>
</li>
<li>
<p>Que los eventos son leidos de múltiples fuentes y que deben ser procesados en forma simultánea</p>
</li>
<li>
<p>Que de acuerdo a las ultimas mediciones de performance se procesan aproximadamente 1.8Gb de información por día</p>
</li>
<li>
<p>La solución representa una frontera de seguridad importante en donde es vital contar con el análisis de eventos en tiempo real por lo cual se debe garantizar un UP Time de 24hs X 7 días a la semana por 365 días al año</p>
</li>
</ul>
</div>
<h1 id="_diseño_de_alto_nivel" class="sect0">Diseño de alto nivel</h1>
<div class="paragraph">
<p>La plataforma debe contar con al menos dos componentes: Un componente para alojar los servidores de aplicaciones y otro componente para el respositorio de datos.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Al referirnos a componentes no hacemos referencia tácita a un solo servidor sino a un conjunto de servidores que actuan como un solo prestador de servicios. Luego se realizara un detalle pormenorizado de la arquitectura física recomendada
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="_servidor_de_aplicaciones">Servidor de aplicaciones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este componente alojará dos servidores de aplicaciones:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>JBoss EAP 6.2</p>
</li>
<li>
<p>Apache Webserver.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Un factor importante en los servidores de Aplicaciónes es la memoria RAM, ésta debe ser la suficiente para manejar el caudal de eventos teniendo en cuenta las reglas que se darán de alta para análisis en tiempo real y simultáneamente manejar situaciones de mantenimiento/contingencia del cluster de servidores de datos. Este servidor debe garantizar alta velocidad entre el procesador y la memoria.</p>
</div>
<div class="paragraph">
<p>Sobre el almacenamiento físico cabe destacar que las prestaciones de este server no requieren gran capacidad de almacenamiento.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cluster_repositorio_de_datos">Cluster/Repositorio de datos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cuando nos referimos al repositorio de datos no solo hacemos referencia a la BBDD sino también a un repositorio de archivos donde se alojan los resultados del syslog.</p>
</div>
<div class="paragraph">
<p>Este repositorio es recomendable que no sea un único componente físico sino que sea un conjunto de servidores para lograr conseguir:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mejor balanceo y distribución de carga</p>
</li>
<li>
<p>Tolerancia a prueba de fallos con redundancia.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Además es importante considerar que para lograr una mejor performance es recomendable que el acceso a Disco sea el mas rápido disponible.
Los discos de estado sólido son la mejor opción actualmente.</p>
</div>
</div>
</div>
<h1 id="_requerimientos" class="sect0">Requerimientos</h1>
<div class="paragraph">
<p>A continuación se menciona una lista de recomendaciones para lograr un UPTIME de 24x7x365 en base a las características mencionadas.</p>
</div>
<div class="sect2">
<h3 id="_servidor_de_aplicaciones_2">Servidor de aplicaciones</h3>
<div class="paragraph">
<p>Este servidor debe poseer al menos un procesador de 2.5+ Ghz con 4 núcleos y 32Gb de RAM. En cuanto al SSD con 256Gb o superior es recomendado.</p>
</div>
<div class="paragraph">
<p>Para lograr el UPTIME propuesto es recomendable que sea al menos dos servidores.</p>
</div>
</div>
<div class="sect2">
<h3 id="_repositorio_de_datos">Repositorio de datos</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
El tamaño total recomendado del cluster es será directamente proporcional al tamaño promedio de los eventos. Vamos a establecer un que un evento promedio tiene 1KB, teniendo en cuenta un caudal de 500 eventos por segundo nos da un promedio de 500KB por segundo, a éso debemos sumarle la redundancia de datos, lo cual nos suma la misma cifra, teniendo 1MB por segundo y 85 GB por día y 2,6TB cada 30 días.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>El repositorio de datos se divide en los siguientes nodos:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">MASTER</dt>
<dd>
<p>Nodo que maneja todas las transacciones que solicitan datos, distribuye y balancea los datos que se almacenan en los nodos DATA. Necesita más capacidad de procesamiento que memoria RAM o capacidad de almacenamiento.</p>
</dd>
<dt class="hdlist1">DATA</dt>
<dd>
<p>Nodo que almacena datos y responde a requests de búsqueda de datos que realiza el nodo MASTER. También realiza todos los cacheos necesarios para disminuir el tiempo de respuesta. Necesita más memoria RAM y capacidad de almacenamiento que capacidad de procesamiento.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Un nodo MASTER/DATA necesitará mucha RAM y buena capacidad de procesamiento.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Cuando un nodo MASTER envía tareas de mantenimiento a los nodos DATA, estos suelen desconectarse del cluster si es que no pueden manejar simultáneamente dichas tareas y las peticiones usuales de datos. Por éste motivo, es escencial que haya una cantidad de nodos DATA suficiente para el caudal de datos planteado, una salida de un nodo DATA entre 5 del cluster no tendrá tanto impacto como en un cluster de 3 nodos.</p>
</div>
</div>
<div class="sect1">
<h2 id="doc_mod">Documentación de los módulos de Pathfinder</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_configración_módulo_web_de_pathfinder" class="sect0">Configración Módulo WEB de Pathfinder</h1>
<div class="paragraph">
<p>El módulo web es la interfaz principal para la interacción con el la plataforma, a través de ella se realizan búsquedas de eventos, se cargan reglas, parsers para los eventos,etc. Este módulo también contiene la interfaz Web REST, a la que llegan los eventos enviados por el lector.<br>
A continuación se explican las configuraciones para poder levantar y ejecutar correctamente el módulo web.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Los requisitos para la ejecución son los siguientes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>JDK 1.7.x</p>
</li>
<li>
<p>Elasticsearch 1.7.3</p>
</li>
<li>
<p>JBoss 6.2</p>
</li>
<li>
<p>Maven 3.x</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Para poder configurar estos requisitos debería remitirse al documento <a href="README.adoc">Principal</a> de configuración</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="index">OBJETIVO y ESTRUCTURA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta sección explica como configurar correctamente Pathfinder en los distintos escenarios que se puedan plantear.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#configuracion_jboss">Configuración JBoss</a></p>
</li>
<li>
<p><a href="#configuracion_app">Configuración Pathfinder</a></p>
</li>
</ul>
</div>
</div>
</div>
<h1 id="configuracion_jboss" class="sect0">Configuración JBoss</h1>
<div class="paragraph">
<p>A continuación se detallan las configuraciones del Jboss básicas para la correcta ejecución del aplicativo</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Agregar la configuración de persistencia al archivo standalone.xml</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Buscar el bloque <code>&lt;datasources&gt;</code> y agregar asegurarse que quede como se encuentra detallado:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;datasources&gt;
...
	&lt;datasource jta="true" jndi-name="java:jboss/datasources/pathfinderDS" pool-name="pathfinderDS" enabled="true" use-java-context="true" use-ccm="true"&gt;
        &lt;connection-url&gt;jdbc:postgresql://localhost:5432/[NOMBRE_DE_DB]&lt;/connection-url&gt;
        &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;
        &lt;driver&gt;postgresql&lt;/driver&gt;
        &lt;security&gt;
            &lt;user-name&gt;[DB_USER]&lt;/user-name&gt;
            &lt;password&gt;[DB_PASS]&lt;/password&gt;
        &lt;/security&gt;
    &lt;/datasource&gt;
...
&lt;/datasources&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuración de la Queue receptora de eventos</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ubicar el segmento "&lt;hornetq-server&gt;" y dentro del mismo el bloque "&lt;jms-destinations&gt;" y asegurarse que contenga la información necesaria como se ejemplifica a continuación</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;hornetq-server&gt;
...
	&lt;jms-destinations&gt;
	...
	    &lt;jms-queue name="queue/Pathfinder"&gt;
	            &lt;entry name="queue/Pathfinder"/&gt;
	            &lt;entry name="java:/jms/queue/Pathfinder"/&gt;
	    &lt;/jms-queue&gt;
	    &lt;jms-queue name="queue/Reprocess"&gt;
                   &lt;entry name="java:/jms/queue/Reprocess"/&gt;
                   &lt;durable&gt;false&lt;/durable&gt;
            &lt;/jms-queue&gt;
	...
	&lt;/jms-destinations&gt;
&lt;/hornetq-server&gt;</code></pre>
</div>
</div>
<h1 id="configuracion_app" class="sect0">Configuración Pathfinder</h1>
<div class="ulist">
<ul>
<li>
<p>Crear el archivo <code>pathfinder_config.properties</code> en el mismo directorio que el archivo <code>standalone.xml</code> y agregarle editar las siguientes configuraciones:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>pathfinder.host=127.0.0.1 (IP público del host donde está Pathfinder)
pathfinder.port=8180 (Puerto donde corre el JBoss)
pathfinder.context=/pathfinder (Contexto de ejecución de Pathfinder)
pathfinder.metrics=true (Activar Métricas)
pathfinder.instance=node-1 (Nombre de la instancia)

pathfinder.user=admin (Usuario inicial del sistema)
pathfinder.pass=admin (Password inicial del sistema)

pathfinder.health.active=true (Flag para habilitar el envío de datos de Salud a un Health externo)
pathfinder.health.url.host=localhost (IP público del Health Externo)
pathfinder.health.url.port=8180 (Puerto donde corre el JBoss del Health Externo)
#pathfinder.health.url.context=/pathfinder-health
pathfinder.kibana.url=127.0.0.1 (IP Público donde corre Kibana)
#pathfinder.backup=/tmp/pathfinder/backups (Directorio de trabajo para realizar backups, *debe estar creado*)
pathfinder.drl.active=true ()

elasticsearch.host=127.0.0.1 (IP Público donde corre un nodo master de ES, valores separados por coma cuando son múltiples nodo master)
elasticsearch.port=9301 (Puerto donde corre el/los nodo/s master de ES)
#elasticsearch.index.rotation=true (Flag para rotación de índices de los eventos)
#elasticsearch.ping=1 (Tiempo en segundos para pingear los nodos de ES)
#elasticsearch.index.persist=pathfinder-index (Índice de Persistencia en ES para los eventos recibidos)
#elasticsearch.user=admin (Usuario de ES si es que se ha configurado SHIELD)
#elasticsearch.pass=admin (Password de ES si es que se ha configurado SHIELD)
#elasticsearch.cluster=pathfinder (Nombre del cluster de ES)

analyzer.active=true (Flag para enviar eventos a análisis)
analyzer.host=127.0.0.1 (IP Pública del JBoss donde se encuentra desplegado el analizador)
analyzer.port=8180 (Puerto donde corre el JBoss donde se encuentra desplegado el analizador)
#analyzer.context=/analyzer-cep (Contexto de ejecución del analizador)

ldap.auth=false (Flag de autorización ldap/active directory)
ldap.host=192.168.1.1:10389 (Host del server de LDAP)
ldap.protocol=ldap (Protocolo de comunicación)
#ldap.referrals.ignore=true (Flag para ignorar las referencias de las unidades organizacionales)
#ldap.security.auth = simple (Tipo de autentificación con el servidor LDAP)
#ldap.security.scheme = native (Esquema de comunicación del servidor LDAP native/active-directory)
#ldap.security.principal.construct = true (Flag para construír el nombre de usuario a partir del nombre de dominio base)
#ldap.security.principal.suffix = uid (Sufijo del Nombre de dominio)
ldap.security.principal.attachBaseDN = true (Flag para atachear el nombre de dominio base al usuario)
#ldap.security.users.class = person #its default
ldap.security.users.baseDN = ou\=users,ou\=pathfinder,dc\=cuyum,dc\=com (Nombre de dominio para los usuarios)
ldap.security.roles.baseDN = ou\=roles,ou\=pathfinder,dc\=cuyum,dc\=com (Nombre de dominio para los roles)
#ldap.security.roles.admin = "Admin" (Mapeo de rol de administración)
#ldap.security.roles.user = "User" (Mapeo de rol de usuario)
#ldap.security.domain = false (Flag de especificación de seguridad de dominio)
#ldap.security.domain.name = cuyum.com (Nombre de dominio base)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Configurar el nombre del cluster en ElasticSearch en su archivo de configuración correspondiente (<code>{ELASTICSEARCH_INSTALL_DIR}/elasticsearch.yml</code>) o configurar el archivo <code>pathfinder_config.properties</code> con el correspondiente</p>
</li>
</ul>
</div>
<h1 id="_configración_módulo_analyzer_de_pathfinder" class="sect0">Configración Módulo ANALYZER de Pathfinder</h1>
<div class="paragraph">
<p>El analizador de Pathfinder es una aplicación standalone que se comunica via servicios WEB REST. Es el encargado de consumir las reglas de correlación de eventos y generar un entorno de ejecución que en tiempo real recibe paquetes de eventos enviados luego de que se procesan en Pathfinder, ejecuta las reglas y devuelve los disparos resultantes.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Los requisitos para la ejecución son los siguientes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>JDK 1.7.x</p>
</li>
<li>
<p>JBoss 6.2</p>
</li>
<li>
<p>Maven 3.x</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Para poder configurar estos requisitos debería remitirse al documento <a href="README.adoc">Principal</a> de configuración</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="index">OBJETIVO y ESTRUCTURA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta sección explica como configurar correctamente Pathfinder en los distintos escenarios que se puedan plantear.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#configuracion_jboss">Configuración JBoss</a></p>
</li>
<li>
<p><a href="#configuracion_app">Configuración Pathfinder</a></p>
</li>
</ul>
</div>
</div>
</div>
<h1 id="configuracion_jboss" class="sect0">Configuración JBoss</h1>
<div class="paragraph">
<p>Es necesario agregar parámetros al archivo de configuración de JBoss <code>standalone.xml</code> ubicado dentro del directorio <code>{JBOSS_INSTALL_DIR}/standalone/configuration</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ubicar el segmento "&lt;hornetq-server&gt;" y asegurarse que contenga el siguiente bloque de código</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;hornetq-server&gt;
...
	&lt;jms-destinations&gt;
	...
		&lt;jms-queue name="queue/Alerts"&gt;
			&lt;entry name="java:/jms/queue/Alerts"/&gt;
			&lt;durable&gt;true&lt;/durable&gt;
		&lt;/jms-queue&gt;
		&lt;jms-queue name="queue/NormalAnalisis"&gt;
			&lt;entry name="java:/jms/queue/NormalAnalisis"/&gt;
			&lt;durable&gt;true&lt;/durable&gt;
		&lt;/jms-queue&gt;
		&lt;jms-queue name="queue/CepAnalisis"&gt;
			&lt;entry name="java:/jms/queue/CepAnalisis"/&gt;
			&lt;durable&gt;true&lt;/durable&gt;
		&lt;/jms-queue&gt;
		&lt;jms-topic name="topic/Pathfinder"&gt;
			&lt;entry name="topic/Pathfinder"/&gt;
			&lt;entry name="java:/jms/topic/Pathfinder"/&gt;
		&lt;/jms-topic&gt;
	...
	&lt;/jms-destinations&gt;
&lt;/hornetq-server&gt;</code></pre>
</div>
</div>
<h1 id="configuracion_app" class="sect0">Configuración Pathfinder</h1>
<div class="paragraph">
<p>Crear el archivo de configuración <code>pathfinder_analyzer_cep_properties</code> ubicado en el directorio <code>{JBOSS_INSTALL_DIR}/standalone/configuration</code> y agregar lo siguiente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#activacion CEP
kb.rules.stream=true #(Flag de configuración para análisis en tiempo real)
#no utilizada si kb.rules.stream=false
kb.rules.stream.entrypoint=pathfinder #(Nombre de punto de entrada de eventos)

pathfinder.remote=true #(Flag de activación de análisis remoto de eventos)
pathfinder.host=127.0.0.1:8180 #(host y puerto de ejecución de pathfinder)
pathfinder.context=/pathfinder #(Contexto de ejecución de pathfinder)</code></pre>
</div>
</div>
<h1 id="_configración_módulo_reader_de_pathfinder" class="sect0">Configración Módulo READER de Pathfinder</h1>
<div class="paragraph">
<p>El lector de Pathfinder es el encargado de leer el archivo específico donde se almacenan los eventos en el equipo de orígen. También es el encargado de asegurarse que el evento no sea leído múltiples veces y de llevar el seguimiento del archivo de log en caso de que el mismo sea alterado (ej, rotación de tamaño)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Los requisitos para la ejecución son los siguientes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>JDK 1.7.x</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Para poder configurar estos requisitos debería remitirse al documento <a href="README.adoc">Principal</a> de configuración</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="index">OBJETIVO y ESTRUCTURA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta sección explica como configurar y correr correctamente el lector de Pathfinder.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#configuracion_reader">Configuración del Agente Lector</a></p>
</li>
<li>
<p><a href="#configuracion_app">Configuración Pathfinder</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#params">Parámetros posibles para configurar el agente por comando</a></p>
</li>
<li>
<p><a href="#ejecucion_misma">Ejecución en misma máquina</a></p>
</li>
<li>
<p><a href="#ejecucion_diferente">Ejecución en diferente máquina</a></p>
</li>
<li>
<p><a href="#ejecucion_gral">Puesta en marcha de una datasource</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<h1 id="configuracion_reader" class="sect0">Configuración del Agente Lector</h1>
<div class="paragraph">
<p>El lector se <strong>auto configura</strong> si se va a ejecutar en la misma máquina donde corre la aplicación, pero en general esto se hace en máquinas donde se almacenan los archivos de eventos que se leerán y enviarán a Pathfinder.</p>
</div>
<div class="sect1">
<h2 id="_archivo_de_configuración_del_lector">Archivo de configuración del Lector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El archivo de configuración se puede crear a mano antes de ejecutar el lector, si no se crea previamente se crea automáticamente al ejecutarlo por primera vez en el directorio de ejecución configurado.<br>
El directorio de ejecución se configura por parámetro de ejecución al correr el comando para levantar el agente, <em>más adelante se revisará este punto</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Crear el archivo <code>config.json</code> en un directorio seleccionado, para este caso vamos a utilizar <code>/opt/agente</code> (puede ser cualquiera), y lo tendremos en cuenta para cuando vayamos a inicializar el agente mas adelante.</p>
</li>
<li>
<p>Agregar la siguiente información</p>
<div class="literalblock">
<div class="content">
<pre>configuration.pathfinder.url.host=127.0.0.1 #(El host del server donde corre Pahtfinder)
configuration.pathfinder.url.port=8180 #(El puerto donde corre Pathfinder)
configuration.pathfinder.url.protocol=http #(El protocolo de comunicación con Pathfinder)
configuration.pathfinder.url.context=/pathfinder #(El contexto sobre el que corre Pathfidner)
configuration.health.active=true #(Flag para determinar si el agente envía datos al health externo)
configuration.health.url.host=127.0.0.1 #(Host donde corre Pathfinder)
configuration.health.url.port=8180 #(El puerto donde corre el health externo a pathfinder)
configuration.health.url.context=/pathfinder-health #(Contexto sobre el que corre el health externo de Pathfinder)</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<h1 id="configuracion_app" class="sect0">Ejecución del Agente Lector</h1>
<div class="paragraph">
<p>Como vimos anteriormente el agente puede ejecutarse directamente sin crear configuraciones si el mismo se ejecuta en el mismo servidor de Pathfinder. Vamos a proceder a detallar los dos métodos de ejecución.</p>
</div>
<div class="sect2">
<h3 id="params">Parámetros posibles para configurar el agente por comando</h3>
<div class="paragraph">
<p>El agente recibe distintos parámetros de configuración por línea de comando, a continuación se detallan:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>-w Directorio de ejecución, <strong>debe tener los permisos necesarios que el usuario que corre el agente pueda crear archivos en él</strong></p>
</li>
<li>
<p>-h Host de Pathfinder, Se matchea con la propiedad <code>configuration.pathfinder.url.host</code></p>
</li>
<li>
<p>-p Puerto de Pathfinder, Se matchea con la propiedad <code>configuration.pathfinder.url.port</code></p>
</li>
<li>
<p>-c Contexto de Pathfinder, Se matchea con la propiedad <code>configuration.pathfinder.url.context</code></p>
</li>
<li>
<p>-hh Host del Health Pathfinder, Se matchea con la propiedad <code>configuration.health.url.host</code></p>
</li>
<li>
<p>-hp Puerto del Health Pathfinder, Se matchea con la propiedad <code>configuration.health.url.port</code></p>
</li>
<li>
<p>-hc Contexto del Health Pathfinder, Se matchea con la propiedad <code>configuration.health.url.context</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ejecucion_misma">Ejecución en misma máquina</h3>
<div class="paragraph">
<p>Si el agente lector corre sobre el mismo servidor donde corre Pathfinder el comando para ejecutarlo es el siguiente (se utilizará el directorio de trabajo establecido en la sección "<a href="#configuracion_reader">Configuración del Agente Lector</a>"):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ java -jar pathfinder-agent.jar -w /opt/agente</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ejecucion_diferente">Ejecución en diferente máquina</h3>
<div class="paragraph">
<p>Si el agente lector corre sobre el mismo servidor donde corre Pathfinder el comando para ejecutarlo es el siguiente:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ java -jar pathfinder-agent.jar -w /opt/agente -h[HOST_PATHFINDER] -p[PORT_PATHFINDER] -c[CONTEXT_PATHFINDER] -hh[HOST_HEALTH_PATHFINDER] -hp[PORT_HEALTH_PATHFINDER] -hc[CONTEXT_HEALTH_PATHFINDER]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ejecucion_gral">Puesta en marcha de una datasource</h3>
<div class="paragraph">
<p>Iniciar el agente solo hace que el mismo registre en la Plataforma pero no comienza a enviar eventos.<br>
Para que los eventos comiencen a ser enviados a Pathfinder es necesario ingresar a Pathfinder a la sección de <strong>Agentes</strong> y registrar en el Agente registrado una nueva datasource, donde se especificará el path completo al archivo de eventos. Habiendo hecho esto, aparecerá el botón On/Off para poder comenzar el envío de eventos</p>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-12-21 12:24:55 ART
</div>
</div>
</body>
</html>